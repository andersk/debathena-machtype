/*
 * $Id: Imakefile,v 1.10 1994-06-13 07:05:10 cfields Exp $
 */

#ifdef ULTRIX40
DEFINES=-DULTRIX_40 -I/usr/include/sys 
#endif

#if defined(_IBMR2)
#define DONE
machtype_rios.o: $(ATHVERS)
	$(RM) $@
	. $(ATHVERS); \
	$(CC) -c $(CFLAGS) -DATHMAJV=\"$$ATHMAJV\" -DATHMINV=\"$$ATHMINV\" $*.c

SimpleProgram(machtype, machtype_rios.o,-lodm -lcfg -ldiag,$(ATHRBINDIR))
#endif
#if defined(SOLARIS)
#define DONE
machtype_sol.o: $(ATHVERS)
        $(RM) $@
        . $(ATHVERS); \
        $(CC) -c $(CFLAGS) -DATHMAJV=\"$$ATHMAJV\" -DATHMINV=\"$$ATHMINV\" $*.c
SimpleProgram(machtype, machtype_sol.o,-lkvm,$(ATHRBINDIR))
install_program(machtype,-m 4755 -o root,$(ATHRBINDIR))
#endif
#ifndef DONE
machtype_std.o: $(ATHVERS)
	$(RM) $@
	. $(ATHVERS); \
	$(CC) -c $(CFLAGS) -DATHMAJV=\"$$ATHMAJV\" -DATHMINV=\"$$ATHMINV\" $*.c
	
build_program(machtype, machtype_std.o,,)
install_program(machtype,-m 2755 -g kmem,$(ATHRBINDIR))
#endif

install_man(machtype.1,machtype.1)
